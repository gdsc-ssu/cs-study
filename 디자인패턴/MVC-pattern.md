# MVC 패턴

MVC 패턴이란 어플리케이션을 Model, View, Controller 로 총 3개의 영역으로 분할하고 각 구성 요소에게 고유한 역할을 부여하는 개발 방식이다.

MVC 패턴을 통해 도메인(비즈니스) 영역과 UI 영역이 분리되므로 서로 영향을 주지 않고 유지보수가 가능하다.

<img width="320" alt="스크린샷 2023-02-19 18 08 54" src="https://user-images.githubusercontent.com/67703882/219939117-94c397a2-e3bf-4ac2-896a-89c28000612b.png">

## MVC 패턴 구조

MVC 패턴의 전체적인 구조를 파악하고 Model, View, Controller 컴포넌트가 각각 어떠한 고유한 역할을 수행하는지 알아보자.

### 모델(Model)

Model은 애플리케이션이 '무엇'을 할 것인지를 정의한다. 애플리케이션이 다루는 데이터와 내부 비즈니스 로직을 처리하는 역할을 담당한다.

즉, DB와 연동하여 사용자의 입출력 데이터를 다루는 일과 같은 데이터와 연관된 로직을 처리한다. 여러 개의 데이터 변경 작업(추가, 변경, 삭제 등)을 하나의 작업으로 묶은 트랜잭션을 다루는 일도 담당한다.

#### Model이 가지는 규칙

- 사용자가 다루는 모든 데이터를 가지고 있어야 한다.
- 뷰나 컨트롤러에 대해서 어떠한 정보도 알지 말아야 한다.
- 변경이 발생하면 변경 통지에 대한 처리 방법을 구현해야만 한다.

### 뷰(View)

View는 사용자에게 보여지는 유저 인터페이스(UI)를 의미한다. 즉 화면에 무엇을 '보여주기 위한 역할'을 담당한다. Model이 처리한 데이터나 그 작업 결과를 가지고 출력할 화면을 만든다.

#### View가 가지는 규칙

- 모델에게 전달 받는 데이터를 따로 저장해서는 안된다.
- 모델이나 컨트롤러 같이 다른 구성 요소에 대한 존재를 몰라야 한다.
- 변경이 발생하면 변경 통지에 대한 처리 방법을 구현해야만 한다.

### 컨트롤러(Controller)

Controller는 Model 와 View 사이를 이어주는 브릿지 역할을 담당한다.

사용자의 요청을 받으면 해당 요청에 대한 실제 업무를 수행하는 Model을 호출한다. 사용자가 보낸 데이터가 있다면 해당 데이터를 가공 후 Model에게 전달하기도 한다. Model이 업무 수행을 완료하면 그 결과를 가지고 화면을 생성하도록 View에게 전달한다.

즉, 사용자의 요청에 대해 적절한 Model와 View를 결정하여 호출하는 역할을 담당한다.

#### Controller가 가지는 규칙

- 모델이나 뷰에 대해서 알고 있어야 한다.
- 모델이나 뷰의 변경을 모니터링 해야 한다.

## MVC 패턴 적용시 순서

MVC 패턴을 Web에 적용했다고 가정해보자.

![image](https://user-images.githubusercontent.com/67703882/219939255-9574cae8-9259-443d-a048-af2b06dc18f8.png)

1. 클라이언트가 웹 사이트에 접속해 컨트롤러에 데이터 요청을 한다.
2. 컨트롤러가 사용자가 요청한 데이터를 받기 위해 모델을 호출한다. 모델은 데이터베이스나 파일과 같은 데이터 소스를 제어한 후 결과를 반환한다.
3. 컨트롤러는 모델이 반환한 결과를 뷰에 전달한다.
4. 뷰는 이러한 데이터를 반영하여 사용자에게 화면을 보여준다.

## MVC 패턴의 장점

사용자 인터페이스로부터 비즈니스 로직을 분리하여 애플리케이션의 시각적 요소나 그 이면에서 실행되는 비즈니스 로직을 서로 영향 없이 쉽게 고칠 수 있는 애플리케이션을 만들 수 있다.

Model와 View가 서로 종속되지 않아 애플리케이션의 확장성 및 유연성에 유리하다.

## MVC 패턴의 한계

Model과 View가 서로의 존재를 모르는 독립적인 상태어야 한다고 하지만, 다수의 Model과 다수의 View가 하나의 컨트롤러를 통해 소통을 이루기에 의존성이 완전히 분리될 수가 없다.

복잡한 대규모 프로그램의 경우 다수의 뷰와 모델이 컨트롤러로 연결되기 때문에 컨트롤러가 불필요하게 비대해지는 현상이 발생한다.

![image](https://user-images.githubusercontent.com/67703882/219938356-f4e3760c-7f06-46c9-aca1-3e8c0f8e7cfc.png)

이러한 현상을 Massive-View-Controller 라고도 부르고, 이를 보완하기 위해 MVP, MVVM, Flux 등 다양한 패턴들이 파생되었다.

## 참고자료

https://junhyunny.github.io/information/design-pattern/mvc-pattern/

https://medium.com/@jang.wangsu/%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4-mvc-%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80-1d74fac6e256

https://velog.io/@khy226/MVC-%ED%8C%A8%ED%84%B4%EC%9D%B4%EB%9E%80
